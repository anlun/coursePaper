\newpage

\subsection{Библиотека Азеро и Свиерстры}

Библиотека Азеро и Свиерстры\cite{swierstra}\footnote{
В данном тексте, с целью не усложнять восприятие текста читателем, изменены обозначения комбинаторов библиотеки Свиерстры на обозначения, подобные тем, что были уже рассмотрены в библиотеке Хьюза. Семантика комбинаторов описана без изменений, согласно оригинальной статье и соотвествующей библиотеке.
} отличается от предыдущих библиотек тем, что дает возможность явным образом задать несколько несвязанных вариантов раскладки документа, так как там есть оператор \textbf{(<|>)}. Этот оператор обладает следующей сигнатурой:
\inputminted{haskell}{codes/chooseSw.hs}
Оператор берет два документа и создает новый, который при раскладке может стать первым или вторым, в зависимости от того, какой из документов раскладывается оптимальней. \textit{Оптимальной} раскладкой для документа считается раскладка, удовлетворяющая ограничению на ширину документа и имеющая минимальную высоту.

Наличие оператора \textbf{(<|>)} сразу же решает проблему со скобкой, которая была поднята в обзоре библиотеки Хьюза (см. рис.~\ref{fig:bracketSwierstra}).\footnote{
	В примере используется функция element\_h1. Эта функция выбирает из вариантов раскладки документа те, которые имеют высоту 1.
}

\begin{figure}[h!]
	\inputminted{haskell}{codes/bracketSwierstra.hs}
	\caption{Pretty printer конструкции Write, удовлетворяющий примеру с рис.~\ref{fig:lGoodWriteEx}}
	\label{fig:bracketSwierstra}
\end{figure}

% Библиотека Свиерстры является самой удобной комбинаторной библиотекой из рассмотренных в данном тексте.